{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/script_tag/arn-wishlist-compare.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","appUrl","loadScript","url","callback","script","document","createElement","type","readyState","onreadystatechange","onload","src","getElementsByTagName","appendChild","watcher","Wishlist","Compare","requestAnimationFrame","window","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","start","mozAnimationStartTime","step","timestamp","Arena__WishListJS","$","maxAllow","settings","arn_wl_cp_settings","wishlist_settings","addClass","wishlist_add_class","showClass","wishlist_show_class","deleteClass","wishlist_remove_class","enable","wishlist_enable","proxy","general_settings","app_wishlist_page","originShop","Shopify","shop","customShop","JSON","parse","text","wishlist_product_number","customerWishlist","cacheList","requestCount","init","this","loadWishList","handleEvent","length","updateIcon","each","index","item","handle","attr","indexOf","removeClass","updateAmount","find","html","_this","customerLogged","classList","add","ajax","method","dataType","data","customerId","success","resObj","status","Error","notify_getlist_error","customer_wishlist","slice","error","err","alert","message","complete","remove","on","e","preventDefault","addToList","currentTarget","removeFromList","showLayout","target","prodHandle","rowItem","parents","handleIndex","splice","resultObj","domItem","result","push","failList","filter","cache","map","failItem","exRemoveFromList","location","reload","trim","checkLogin","notify_login","notify_limit","replace","exAddToWishlist","href","Arena__CompareJS","compare_settings","compare_add_class","compare_show_class","compare_remove_class","compareOptions","compare_options","compare_enable","compare_product_number","layoutType","compare_layout","compareList","loadCompare","customer_compare","loadLayout","parentClass","match","jQuery","fn","modal","fancybox","close","exAddToCompare","hide","show","prodData","countDown","prod","showOptions","optionKey","fd","FormData","append","stringify","t_column","t_remove_class","t_remove_width","remove_class_icon","width","t_remove_height","height","t_features_title","table_feature_heading","t_availability_title","table_availability_heading","t_instock","table_instock","t_outstock","table_outstock","t_view_detail","table_view_btn","t_option_title","table_option_heading","t_vendor_title","table_vendor_heading","t_collection_title","table_collection_heading","t_rating_title","table_review_heading","theme","id","processData","contentType","resp","open","currenciesCallback","notify_modal_plugin","console","log","notify_empty_product","Arena__RecentView","recentList","productPage","getRecentlyViewed","msg","showRecentlyViewed","updateRecentlyViewed","view_container","productTplList","productData","_data","image","vendor","title","variants","price","productId","valid","checkValid","list","date","sort","a","b","Date","valueOf","unshift","toISOString","concat","flag","jqVer","jquery","latestVer","split","addFlag","number","idx","parseInt","arnJQ","noConflict"],"mappings":"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","file":"js/arn-wishlist-compare.65656e11ccf29d15c644.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 453);\n","(function() {\r\n    //const appUrl = `https://arena-wishlist.ngrok.io`;\r\n    const appUrl = `https://wishlist.storevline.com`;\r\n    const loadScript = function(url, callback) {\r\n        var script = document.createElement(\"script\");\r\n        script.type = \"text/javascript\";\r\n  \r\n        if (script.readyState) {\r\n            //IE \r\n            script.onreadystatechange = function() {\r\n                if (script.readyState == \"loaded\" || script.readyState == \"complete\") {\r\n                    script.onreadystatechange = null;\r\n                    callback();\r\n                }\r\n            };\r\n        } else {\r\n            //Others\r\n            script.onload = function() {\r\n                callback();\r\n            };\r\n        }\r\n  \r\n        script.src = url;\r\n        document.getElementsByTagName(\"head\")[0].appendChild(script);\r\n    };\r\n\r\n    const watcher = function(Wishlist, Compare) {\r\n        let requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame ||\r\n        window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\r\n\r\n        var start = window.mozAnimationStartTime; \r\n        var myReq;\r\n\r\n        function step(timestamp) {\r\n            if (start === null ||  typeof start == 'undefined') start = timestamp;          \r\n            var progress = timestamp - start;\r\n            \r\n            Wishlist.watcher();\r\n            Compare.watcher();\r\n            requestAnimationFrame(step);\r\n          }\r\n        requestAnimationFrame(step);\r\n    }\r\n  \r\n    window.Arena__WishListJS = function($) {\r\n        const settings = arn_wl_cp_settings.wishlist_settings;\r\n        const addClass = '.' + settings.wishlist_add_class;\r\n        const showClass = '.' + settings.wishlist_show_class;\r\n        const deleteClass = '.' + settings.wishlist_remove_class;;\r\n        const enable = settings.wishlist_enable;\t\r\n\t\tconst proxy = !arn_wl_cp_settings.general_settings.app_wishlist_page;\r\n        const originShop = Shopify.shop;\r\n        const customShop = JSON.parse($('#shopify-features').text())['domain'];\r\n        let clientUrl1 = 'nautilus-puzzles.myshopify.com';\r\n        let clientCustomUrl1 = 'nautiluspuzzles.com';\r\n  \r\n        let maxAllow;\r\n        if (originShop !== clientUrl1 || customShop !== clientCustomUrl1) {\r\n            maxAllow = settings.wishlist_product_number > 20 ? 20 : settings.wishlist_product_number;\r\n        } else {\r\n            maxAllow = settings.wishlist_product_number > 100 ? 100 : settings.wishlist_product_number;\r\n        }\r\n  \r\n        maxAllow = maxAllow < 2 ? 2 : maxAllow;\r\n  \r\n        let customerWishlist = [],\r\n            cacheList = [];\r\n        let requestCount = 0;\r\n  \r\n        return {\r\n            init: function() {\r\n                this.loadWishList();\r\n                this.handleEvent();\r\n\r\n                return this;\r\n            },\r\n\r\n            watcher: function() {\r\n                if(customerWishlist.length) {\r\n                    this.updateIcon();\r\n                }\r\n            },\r\n  \r\n            /**\r\n             * Update add to wishlist button state\r\n             */\r\n            updateIcon: function() {\r\n  \r\n                $(addClass).each((index, item) => {\r\n                    const handle = $(item).attr('data-handle');\r\n                    if (customerWishlist.indexOf(handle) !== -1) {\r\n                        $(item).addClass('arn_added');\r\n                    } else {\r\n                        $(item).removeClass('arn_added');\r\n                    }\r\n                })\r\n  \r\n            },\r\n  \r\n            /**\r\n             * Update Wishlist amount icon\r\n             */\r\n            updateAmount: function() {\r\n                $(showClass).find('.number').html(`\r\n          <span class=\"n-item\">${customerWishlist.length}</span>\r\n        `);\r\n            },\r\n  \r\n            /**\r\n             * Load customer wishlist at page loaded\r\n             */\r\n            loadWishList: function() {\r\n                const _this = this;\r\n  \r\n                if (!customerLogged || !enable) {\r\n                    return false;\r\n                }\r\n  \r\n                /* Load User Wishlist Tags */\r\n                if (customerLogged) {\r\n                    // Add loading class to Body\r\n                    document.getElementsByTagName(\"body\")[0].classList.add(\"arn_wl_pending\");\r\n                    /* Add Loading to all adding button */\r\n                    $(addClass).addClass('arn_pending');\r\n                    /* Add loading class to showing button */\r\n                    $(showClass).addClass('arn_pending');\r\n                    $.ajax({\r\n                        url: `${appUrl}/apps/get-wishlist?shop=${Shopify.shop}`,\r\n                        method: 'post',\r\n                        dataType: 'json',\r\n                        data: {\r\n                            customerId: customerLogged,\r\n                        },\r\n                        success: function(resObj) {\r\n                            if (resObj.status != 'error') {\r\n                                customerWishlist = resObj.customer_wishlist;\r\n  \r\n  \r\n                                if (customerWishlist.length && customerWishlist.length > maxAllow) {\r\n                                    customerWishlist = customerWishlist.slice(0, maxAllow);\r\n                                }\r\n  \r\n                                _this.updateIcon();\r\n                                _this.updateAmount();\r\n  \r\n  \r\n                                // Check if on wishlist page\r\n                                if ($('.wishlist-table').length) {\r\n                                    $('.wishlist-table').removeClass('arn_pending');\r\n                                }\r\n  \r\n                            } else {\r\n                                throw new Error(settings.notify_getlist_error)\r\n                            }\r\n                        },\r\n  \r\n                        error: function(err) {\r\n                            alert(err.message);\r\n                        },\r\n  \r\n                        complete: function() {\r\n                            document.getElementsByTagName(\"body\")[0].classList.remove(\"arn_wl_pending\");\r\n                            $(addClass).removeClass('arn_pending');\r\n                            $(showClass).removeClass('arn_pending');\r\n                        }\r\n                    })\r\n                }\r\n            },\r\n  \r\n            /**\r\n             * Add handle event to wishlist buttons\r\n             */\r\n            handleEvent() {\r\n                const _this = this;\r\n  \r\n                $('body').on('click.add_wl', addClass, (e) => {\r\n                    e.preventDefault();\r\n                    _this.addToList(e.currentTarget);\r\n                });\r\n  \r\n                $('body').on('click.delete_wl', deleteClass, (e) => {\r\n                    e.preventDefault();\r\n                    _this.removeFromList(e.currentTarget);\r\n                })\r\n  \r\n                $('body').on('click.show_wl', showClass, (e) => {\r\n                    e.preventDefault();\r\n                    _this.showLayout();\r\n                })\r\n            },\r\n  \r\n            /**\r\n             * Remove item from wishlist\r\n             */\r\n            removeFromList(target) {\r\n                const _this = this;\r\n                // Add loading class\r\n                $(target).addClass('arn_pending');\r\n                // Remove product handle from list\r\n                const prodHandle = $(target).attr('data-handle');\r\n\t\t\t\tconst callback = $(target).attr('data-callback');\r\n\r\n                const rowItem = $(target).parents('.wishlist-item');\r\n                const handleIndex = customerWishlist.indexOf(prodHandle);\r\n  \r\n                if (handleIndex !== -1) {\r\n                    customerWishlist.splice(handleIndex, 1);\r\n                    requestCount += 1;\r\n                    let resultObj = {\r\n                        handle: prodHandle,\r\n                        domItem: rowItem,\r\n                        result: null,\r\n                    }\r\n                    cacheList.push(resultObj);\r\n  \r\n                    $.ajax({\r\n                        url: `${appUrl}/apps/update-wishlist?shop=${Shopify.shop}`,\r\n                        method: 'post',\r\n                        dataType: 'json',\r\n                        data: {\r\n                            customerId: customerLogged,\r\n                            customer_wishlist: customerWishlist,\r\n                        },\r\n                        success: function(resObj) {\r\n                            // record result\r\n                            resultObj.result = true;\r\n                            resultObj.domItem.remove();\r\n  \r\n                            _this.updateAmount();\r\n                        },\r\n  \r\n                        error: function(err) {\r\n                            $(target).removeClass('arn_pending');\r\n                            // record result\r\n                            resultObj.result = false;\r\n                        },\r\n  \r\n                        complete: function() {\r\n                            // reduce number of request tracking\r\n                            requestCount -= 1;\r\n  \r\n                            if (!requestCount) {\r\n                                let failList = cacheList.filter(cache => cache.result === false);\r\n                                cacheList = [];\r\n                                if (failList.length) {\r\n                                    failList.map(failItem => {\r\n                                        customerWishlist.push(failItem.handle);\r\n                                    });\r\n                                    _this.exRemoveFromList(callback);\r\n                                } else {\r\n                                    if(typeof callback === 'undefined') {\r\n                                        window.location.reload();    \r\n                                    } else {\r\n                                        window[callback]()\r\n                                    }\r\n\r\n                                }\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            },\r\n  \r\n            /**\r\n             * Extra remove from wishlist function\r\n             */\r\n            exRemoveFromList(callback) {\r\n                $.ajax({\r\n                    url: `${appUrl}/apps/update-wishlist?shop=${Shopify.shop}`,\r\n                    method: 'post',\r\n                    dataType: 'json',\r\n                    data: {\r\n                        customerId: customerLogged,\r\n                        customer_wishlist: customerWishlist,\r\n                    },\r\n                    success: function(resObj) {\r\n                        _this.updateAmount();\r\n                    },\r\n  \r\n                    error: function(err) {\r\n  \r\n                    },\r\n  \r\n                    complete: function() {\r\n                        if(typeof callback === 'undefined') {\r\n                            window.location.reload();    \r\n                        } else {\r\n                            window[callback]();\r\n                        }\r\n                    }\r\n                })\r\n            },\r\n  \r\n            /**\r\n             * Add product to wishlist\r\n             */\r\n            addToList(target) {\r\n                const _this = this;\r\n                const prodHandle = $(target).attr('data-handle').trim();\r\n                const callback = $(target).attr('data-callback');\r\n                const loginFlag = this.checkLogin();\r\n  \r\n                // User hasn't logged in yet\r\n                if (!loginFlag) {\r\n                    alert(settings.notify_login);\r\n                    return false;\r\n                }\r\n  \r\n                // Product has already been added to wishlist\r\n                if (customerWishlist.indexOf(prodHandle) !== -1) {\r\n                    //alert(`This product has already been added to wishlist`)\r\n                    return false;\r\n                }\r\n  \r\n                if (customerWishlist.length === maxAllow) {\r\n                    alert(`${settings.notify_limit.replace('{limit}', maxAllow)}`);\r\n                    return false;\r\n                }\r\n  \r\n                // Add loading class\r\n                $(target).addClass('arn_pending');\r\n                customerWishlist.push(prodHandle);\r\n                requestCount += 1;\r\n                let resultObj = {\r\n                    handle: prodHandle,\r\n                    result: null,\r\n                }\r\n                cacheList.push(resultObj);\r\n  \r\n                // Create user wishlist item\r\n                $.ajax({\r\n                    url: `${appUrl}/apps/update-wishlist?shop=${Shopify.shop}`,\r\n                    method: 'post',\r\n                    dataType: 'json',\r\n                    data: {\r\n                        customerId: customerLogged,\r\n                        customer_wishlist: customerWishlist,\r\n                    },\r\n  \r\n                    success: function(resObj) {\r\n                        // add added class\r\n                        $(target).addClass('arn_added');\r\n                        // update amount item on wishlist status\r\n                        _this.updateAmount();\r\n                        // record result\r\n                        resultObj.result = true;\r\n                    },\r\n  \r\n                    error: function(err) {\r\n                        // record result\r\n                        resultObj.result = false;\r\n                    },\r\n  \r\n                    complete: function() {\r\n                        // finally remove loading class\r\n                        $(target).removeClass('arn_pending');\r\n                        // reduce number of request tracking\r\n                        requestCount -= 1;\r\n  \r\n                        if (!requestCount) {\r\n                            let failList = cacheList.filter(cache => cache.result === false);\r\n                            cacheList = [];\r\n                            if (failList.length) {\r\n                                failList.map(failItem => {\r\n                                    customerWishlist = customerWishlist.filter(item => item !== failItem.handle);\r\n                                });\r\n                                _this.exAddToWishlist(callback);\r\n                            } else {\r\n                                if(typeof callback !== 'undefined') {\r\n                                    window[callback]('add');\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n  \r\n                })\r\n            },\r\n  \r\n            /**\r\n             * Extra add to wishlist\r\n             */\r\n            exAddToWishlist(callback) {\r\n                $.ajax({\r\n                    url: `${appUrl}/apps/update-wishlist?shop=${Shopify.shop}`,\r\n                    method: 'post',\r\n                    dataType: 'json',\r\n                    data: {\r\n                        customerId: customerLogged,\r\n                        customer_wishlist: customerWishlist,\r\n                    },\r\n  \r\n                    success: function(resObj) {\r\n                        // update amount item on wishlist status\r\n                        _this.updateAmount();\r\n                        if(typeof callback !== 'undefined') {\r\n                            window[callback]('add');\r\n                        }\r\n                    },\r\n  \r\n                    error: function(err) {\r\n  \r\n                    },\r\n  \r\n                    complete: function() {}\r\n  \r\n                })\r\n            },\r\n  \r\n            /**\r\n             * Function to redirect user to Wishlist page\r\n             */\r\n            showLayout() {\r\n                if(proxy)\r\n                    window.location.href = `/apps/wishlist?id=${customerLogged}`; \r\n                else   \r\n                    window.location.href = `/pages/arena-wishlist-page`;\r\n            },\r\n  \r\n            /**\r\n             * Function to check whether user logged in or not\r\n             */\r\n            checkLogin() {\r\n                return (customerLogged != '') ? true : false;\r\n            }\r\n        };\r\n    };\r\n  \r\n    window.Arena__CompareJS = function($) {\r\n        const settings = arn_wl_cp_settings.compare_settings;\r\n        const addClass = '.' + settings.compare_add_class;\r\n        const showClass = '.' + settings.compare_show_class;\r\n        const deleteClass = '.' + settings.compare_remove_class;\r\n        const compareOptions = settings.compare_options;\r\n        const enable = settings.compare_enable;\r\n        let maxAllow = settings.compare_product_number > 4 ? 4 : settings.compare_product_number;\r\n        maxAllow = maxAllow < 2 ? 2 : maxAllow;\r\n        const layoutType = settings.compare_layout[0]; // \"page\"\r\n        let requestCount = 0;      \r\n  \r\n        let compareList = [],\r\n            cacheList = [];\r\n  \r\n  \r\n        return {\r\n            init: function() {\r\n                this.loadCompare();\r\n                this.handleEvent();\r\n                return this;\r\n            },\r\n\r\n            watcher: function() {\r\n                this.updateIcon();\r\n                \r\n            },\r\n  \r\n            /**\r\n             * Load compare list at page loaded\r\n             */\r\n            loadCompare: function() {\r\n                const _this = this;\r\n\r\n                if(!customerLogged || !enable) {\r\n                    return false;\r\n                }\r\n\r\n                /** Load User Compare List */\r\n                if (customerLogged) {\r\n                    // Add loading class to Body\r\n                    document.getElementsByTagName(\"body\")[0].classList.add(\"arn_cp_pending\");\r\n                    /* Add Loading to all adding button */\r\n                    $(addClass).addClass('arn_pending');\r\n                    /* Add loading class to showing button */\r\n                    $(showClass).addClass('arn_pending');\r\n                    $.ajax({\r\n                        url: `${appUrl}/apps/get-compare?shop=${Shopify.shop}`,\r\n                        method: 'post',\r\n                        dataType: 'json',\r\n                        data: {\r\n                            customerId: customerLogged,\r\n                        },\r\n                        success: function(resObj) {\r\n                            if (resObj.status != 'error') {\r\n                                compareList = resObj.customer_compare;\r\n\r\n                                if (compareList.length && compareList.length > maxAllow) {\r\n                                    compareList = compareList.slice(0, maxAllow);\r\n                                }\r\n\r\n                                _this.updateIcon();\r\n                                _this.updateAmount();\r\n  \r\n                                // Check if on compare page\r\n                                if ($('.compare-table').length) {\r\n                                    _this.loadLayout(layoutType);\r\n                                }\r\n\r\n                            } else {\r\n                                throw new Error(settings.notify_getlist_error)\r\n                            }\r\n                        },\r\n  \r\n                        error: function(err) {\r\n                            document.getElementsByTagName(\"body\")[0].classList.remove(\"arn_cp_pending\");\r\n                            alert(err.message);\r\n                        },\r\n  \r\n                        complete: function() {\r\n                            $(addClass).removeClass('arn_pending');\r\n                            $(showClass).removeClass('arn_pending');\r\n                        }\r\n                    })\r\n                }\r\n            },\r\n  \r\n            /**\r\n             * Update add to compare button state\r\n             */\r\n            updateIcon() {\r\n                $(addClass).each((index, item) => {\r\n                    const handle = $(item).attr('data-handle');\r\n                    if (compareList.indexOf(handle) != -1) {\r\n                        $(item).addClass('arn_added');\r\n                    } else {\r\n                        $(item).removeClass('arn_added');\r\n                    }\r\n                })\r\n            },\r\n  \r\n            /**\r\n             * Add handle event to compare buttons\r\n             */\r\n            handleEvent: function() {\r\n                const _this = this;\r\n  \r\n                $('body').on('click.add_cp', addClass, (e) => {\r\n                    e.preventDefault();\r\n                    _this.addToList(e.currentTarget);\r\n                });\r\n  \r\n                $('body').on('click.delete_cp', deleteClass, (e) => {\r\n                    e.preventDefault();\r\n                    _this.removeFromList(e.currentTarget);\r\n                })\r\n  \r\n                $('body').on('click.show_cp', showClass, (e) => {\r\n                    e.preventDefault();\r\n                    _this.showLayout();\r\n                })\r\n            },\r\n  \r\n            /**\r\n             * Remove item from compare\r\n             */\r\n            removeFromList(target) {\r\n  \r\n                const _this = this;\r\n                // Add loading class\r\n                $(target).addClass('arn_pending');\r\n  \r\n                const prodHandle = $(target).attr('data-handle');\r\n                const handleIndex = compareList.indexOf(prodHandle);\r\n                let parentClasses = $(target).parents('.product-col').attr('class');\r\n                let parentClass = parentClasses.match(/product-[0-9]+/gm);\r\n  \r\n                if (parentClass) {\r\n                    compareList.splice(handleIndex, 1);\r\n                    requestCount += 1;\r\n                    let resultObj = {\r\n                        handle: prodHandle,\r\n                        domItem: $(`.${parentClass}`),\r\n                        result: null,\r\n                    }\r\n                    cacheList.push(resultObj);\r\n\r\n                    $.ajax({\r\n                        url: `${appUrl}/apps/update-compare?shop=${Shopify.shop}`,\r\n                        method: 'post',\r\n                        dataType: 'json',\r\n                        data: {\r\n                            customerId: customerLogged,\r\n                            customer_compare: compareList,\r\n                        },\r\n                        success: function(resObj) {\r\n                            // record result\r\n                            resultObj.result = true;\r\n                            resultObj.domItem.remove();\r\n  \r\n                            _this.updateAmount();\r\n                        },\r\n  \r\n                        error: function(err) {\r\n                            $(target).removeClass('arn_pending');\r\n                            // record result\r\n                            resultObj.result = false;\r\n                        },\r\n  \r\n                        complete: function() {\r\n                            // reduce number of request tracking\r\n                            requestCount -= 1;\r\n  \r\n                            if (!requestCount) {\r\n                                let failList = cacheList.filter(cache => cache.result === false);\r\n                                cacheList = [];\r\n                                if (failList.length) {\r\n                                    failList.map(failItem => {\r\n                                        compareList.push(failItem.handle);\r\n                                    });\r\n                                    _this.exRemoveFromList();\r\n                                } else {\r\n                                    if (!compareList.length && layoutType === 'popup') {\r\n                                        if (jQuery.fn.modal) {\r\n                                            jQuery('.arn-compare-md').modal('hide');\r\n                                        } else if (jQuery.fancybox) {\r\n                                            jQuery.fancybox.close();\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    })\r\n                    \r\n                    \r\n                    // sessionStorage.setItem('arn_compare_list', compareList);\r\n                    // $('.product_comparison_template tr').each((index, item) => {\r\n                    //     $($(item).find(`.${parentClass[0]}`)[0]).remove();\r\n                    // });\r\n  \r\n                    // _this.updateIcon();\r\n                    // _this.updateAmount();\r\n  \r\n                    // if (!compareList.length && layoutType === 'popup') {\r\n                    //     if (jQuery.fn.modal) {\r\n                    //         jQuery('.arn-compare-md').modal('hide');\r\n                    //     } else if (jQuery.fancybox) {\r\n                    //         jQuery.fancybox.close();\r\n                    //     }\r\n                    // }\r\n                }\r\n            },\r\n\r\n            exRemoveFromList() {\r\n                $.ajax({\r\n                    url: `${appUrl}/apps/update-compare?shop=${Shopify.shop}`,\r\n                    method: 'post',\r\n                    dataType: 'json',\r\n                    data: {\r\n                        customerId: customerLogged,\r\n                        customer_wishlist: compareList,\r\n                    },\r\n                    success: function(resObj) {\r\n                        _this.updateAmount();\r\n                        if (!compareList.length && layoutType === 'popup') {\r\n                            if (jQuery.fn.modal) {\r\n                                jQuery('.arn-compare-md').modal('hide');\r\n                            } else if (jQuery.fancybox) {\r\n                                jQuery.fancybox.close();\r\n                            }\r\n                        }\r\n                    },\r\n  \r\n                    error: function(err) {\r\n  \r\n                    },\r\n  \r\n                    complete: function() {\r\n                        \r\n                    }\r\n                })\r\n            },\r\n  \r\n            /**\r\n             * Add product to compare\r\n             */\r\n            addToList(target) {\r\n                const _this = this;\r\n                const prodHandle = $(target).attr('data-handle').trim();\r\n                const loginFlag = this.checkLogin();\r\n\r\n                // User hasn't logged in yet\r\n                if (!loginFlag) {\r\n                    alert(settings.notify_login);\r\n                    return false;\r\n                }\r\n  \r\n                // Product has already been added to compare\r\n                if (compareList.indexOf(prodHandle) !== -1) {\r\n                    alert(`This product has already been added to compare`)\r\n                    return false;\r\n                }\r\n  \r\n                if (compareList.length === maxAllow) {\r\n                    alert(`${settings.notify_limit.replace('{limit}', maxAllow)}`);\r\n                    return false;\r\n                }\r\n  \r\n                // Add loading class\r\n                $(target).addClass('arn_pending');\r\n                compareList.push(prodHandle);\r\n                requestCount += 1;\r\n\r\n                let resultObj = {\r\n                    handle: prodHandle,\r\n                    result: null,\r\n                }\r\n                cacheList.push(resultObj);\r\n  \r\n                $.ajax({\r\n                    url: `${appUrl}/apps/update-compare?shop=${Shopify.shop}`,\r\n                    method: 'post',\r\n                    dataType: 'json',\r\n                    data: {\r\n                        customerId: customerLogged,\r\n                        customer_compare: compareList,\r\n                    },\r\n  \r\n                    success: function(resObj) {\r\n                        // add added class\r\n                        $(target).addClass('arn_added');\r\n                        // update amount item on wishlist status\r\n                        _this.updateAmount();\r\n                        // record result\r\n                        resultObj.result = true;\r\n                    },\r\n  \r\n                    error: function(err) {\r\n                        // record result\r\n                        resultObj.result = false;\r\n                    },\r\n  \r\n                    complete: function() {\r\n                        // finally remove loading class\r\n                        $(target).removeClass('arn_pending');\r\n                        // reduce number of request tracking\r\n                        requestCount -= 1;\r\n  \r\n                        if (!requestCount) {\r\n                            let failList = cacheList.filter(cache => cache.result === false);\r\n                            cacheList = [];\r\n                            if (failList.length) {\r\n                                failList.map(failItem => {\r\n                                    compareList = compareList.filter(item => item !== failItem.handle);\r\n                                });\r\n                                _this.exAddToCompare();\r\n                            } else {\r\n                                if(typeof callback !== 'undefined') {\r\n                                    window[callback]('add');\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n  \r\n                })\r\n            },\r\n\r\n            /**\r\n             * Extra add to wishlist\r\n             */\r\n            exAddToCompare() {\r\n                $.ajax({\r\n                    url: `${appUrl}/apps/update-compare?shop=${Shopify.shop}`,\r\n                    method: 'post',\r\n                    dataType: 'json',\r\n                    data: {\r\n                        customerId: customerLogged,\r\n                        customer_compare: compareList,\r\n                    },\r\n  \r\n                    success: function(resObj) {\r\n                        // update amount item on wishlist status\r\n                        _this.updateAmount();\r\n                        if(typeof callback !== 'undefined') {\r\n                            window[callback]('add');\r\n                        }\r\n                    },\r\n  \r\n                    error: function(err) {\r\n  \r\n                    },\r\n  \r\n                    complete: function() {}\r\n  \r\n                })\r\n            },\r\n  \r\n            /**\r\n             * Update Compare amount icon\r\n             */\r\n            updateAmount() {\r\n                $(showClass).find('.number').html(`\r\n          <span class=\"n-item\">${compareList.length}</span>\r\n        `);\r\n  \r\n                // Case no wishlist item\r\n                if ($('.page-arn-compare').length) {\r\n                    if (!compareList.length) {\r\n                        $('.compare-table').hide();\r\n                        $('.page-arn-compare .no-compare-msg').show();\r\n                    } else {\r\n                        $('.page-compare .no-compare-msg').hide();\r\n                        $('.compare-table').show();\r\n                    }\r\n                }\r\n            },\r\n  \r\n            //== Function to load compare layout\r\n            loadLayout(type) {\r\n                let prodData = [];\r\n                let countDown = compareList.length;\r\n                // Add loading class to Body\r\n                document.getElementsByTagName(\"body\")[0].classList.add(\"arn_cp_pending\");\r\n                // Add loading class to showing button\r\n                $(showClass).addClass('arn_pending');\r\n  \r\n                compareList.map((prod, index) => {\r\n                    $.ajax({\r\n                        url: `/products/${prod}?view=compare`,\r\n                        method: 'get',\r\n                        dataType: 'html',\r\n                        success: function(data) {\r\n                            const prod = JSON.parse(data);\r\n                            prodData.push(prod);\r\n                            countDown--;\r\n                            if (!countDown) {\r\n                                let showOptions = {};\r\n                                compareOptions.map(optionKey => {\r\n                                    showOptions[`show_${optionKey}`] = true;\r\n                                })\r\n                                // send prodData to server  \r\n                                let fd = new FormData();    \r\n                                fd.append( 'prodlist', JSON.stringify(prodData) );\r\n                                fd.append( 'compare_translate', JSON.stringify({\r\n                                    t_column: `cols_${compareList.length}`,\r\n                                    t_remove_class: settings.compare_remove_class,\r\n                                    t_remove_width: settings.remove_class_icon.width,\r\n                                    t_remove_height: settings.remove_class_icon.height,\r\n                                    t_features_title: settings.table_feature_heading,\r\n                                    t_availability_title: settings.table_availability_heading,\r\n                                    t_instock: settings.table_instock,\r\n                                    t_outstock: settings.table_outstock,\r\n                                    t_view_detail: settings.table_view_btn,\r\n                                    t_option_title: settings.table_option_heading,\r\n                                    t_vendor_title: settings.table_vendor_heading,\r\n                                    t_collection_title: settings.table_collection_heading,\r\n                                    t_rating_title: settings.table_review_heading, \r\n                                }) );\r\n                                fd.append( 'compare_showing_options', JSON.stringify(showOptions) ); \r\n                                $.ajax({\r\n                                    url: `${appUrl}/apps/get-compare-layout?shop=${Shopify.shop}&themeId=${Shopify.theme.id}`,\r\n                                    method: 'post',\r\n                                    processData: false,\r\n                                    contentType: false,\r\n                                    data: fd,\r\n                                    success: function(data) {\r\n  \r\n                                        if (data.status != 'error') {\r\n                                            if (type === 'popup') {\r\n                                                if (jQuery.fancybox || jQuery.fn.modal) {\r\n                                                    if (jQuery.fn.modal) {\r\n                                                        let modalTpl = jQuery(`<div class=\"modal fade arn-compare-md\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myLargeModalLabel\" aria-hidden=\"true\">\r\n                                                                    <div class=\"modal-dialog modal-md\">\r\n                                                                      <div class=\"modal-content\">\r\n                                                                        ${data.resp}   \r\n                                                                      </div>\r\n                                                                    </div>\r\n                                                                  </div>`);\r\n                                                        modalTpl.modal('show');\r\n                                                    } else if (jQuery.fancybox) {\r\n                                                        jQuery.fancybox.open(\r\n                                                            data.resp, {\r\n                                                                'animationEffect': 'tube',\r\n                                                                'afterShow': function() {\r\n                                                                    currenciesCallback();\r\n                                                                }\r\n                                                            });\r\n                                                    }\r\n                                                } else {\r\n                                                    alert(settings.notify_modal_plugin)\r\n                                                }\r\n  \r\n                                            } else {\r\n                                                $('.compare-table').html(data.resp)\r\n                                            }\r\n                                        } else {\r\n                                            alert(settings.notify_getlist_error);\r\n                                        }\r\n                                    },\r\n                                    error: function(err) {\r\n                                        console.log(err);\r\n                                    },\r\n                                    complete: function() {\r\n                                        document.getElementsByTagName(\"body\")[0].classList.remove(\"arn_cp_pending\");\r\n                                        $(showClass).removeClass('arn_pending');\r\n                                    }\r\n                                })\r\n                            }\r\n                        },\r\n                        error: function(err) {\r\n                            console.log(err);\r\n                            document.getElementsByTagName(\"body\")[0].classList.remove(\"arn_cp_pending\");\r\n                            $(showClass).removeClass('arn_pending');\r\n                        },\r\n  \r\n                    })\r\n                })\r\n            },\r\n  \r\n            //== Function to show compare layout\r\n            showLayout: function() {\r\n                const _this = this;\r\n\r\n                const loginFlag = this.checkLogin();\r\n\r\n                // User hasn't logged in yet\r\n                if (!loginFlag) {\r\n                    alert(settings.notify_login);\r\n                    return false;\r\n                }\r\n\r\n                if (compareList.length == 0) {\r\n                    alert(settings.notify_empty_product);\r\n                    return false;\r\n                }\r\n  \r\n                if (layoutType === 'popup') {\r\n                    // If type is popup call load layout\r\n                    _this.loadLayout(layoutType)\r\n                } else {\r\n                    // Redirect to compare page\r\n                    window.location.href = '/pages/arena-compare-page';\r\n                }\r\n            },\r\n\r\n            checkLogin() {\r\n                return (customerLogged != '') ? true : false;\r\n            },\r\n        }\r\n    };\r\n\r\n    window.Arena__RecentView = function($) {\r\n        let recentList = null;\r\n        const maxAllow = 16;\r\n        return {\r\n            init: function() {\r\n               \r\n                let productPage = $('.template-product');\r\n                let _this = this;\r\n                // Get List Recently Viewed\r\n                this.getRecentlyViewed(function(result) {\r\n                    if(!result) {\r\n                        return\r\n                    } else {\r\n                        if(result.status == 'error') {\r\n                            alert(result.msg);\r\n                        } else {\r\n                            recentList = result.recentList;\r\n                            _this.updateAmount();\r\n                            _this.showRecentlyViewed();\r\n                            if(productPage.length) {\r\n                                // Update List Recently Viewed\r\n                                _this.updateRecentlyViewed();\r\n                            }\r\n                        }\r\n                    }\r\n                    \r\n                });\r\n\r\n                return this\r\n                \r\n            },\r\n\r\n            updateAmount: function() {\r\n                if($(\".show-viewed-products\").length) {\r\n                    $(\".show-viewed-products\").find('.number').html(`\r\n                        <span class=\"n-item\">${recentList.length}</span>\r\n                    `);\r\n                }\r\n                \r\n            },\r\n\r\n            showRecentlyViewed: function() {\r\n                \r\n                let view_container = $(\".storevline-recently-viewed\");\r\n                if(!view_container.length) return;\r\n\r\n                let productTplList = '';\r\n                let styleTpl = `<style>\r\n                    .storevline-recently-viewed { margin: 30px 0; }\r\n                    .storevline-recently-viewed { display: flex; flex-wrap: no-wrap; }\r\n                    .storevline-recently-viewed .recently-viewed-product { flex-basis: 205px; padding: 0 15px; }\r\n                    .storevline-recently-viewed .recently-viewed-product .product-image a { display: block; height: 0; padding-bottom: 100%; position: relative; overflow: hidden; margin-bottom: 15px; }\r\n                    .storevline-recently-viewed .recently-viewed-product .product-image img { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); }\r\n                    .storevline-recently-viewed .recently-viewed-product .product-name { font-weight: bold; margin: 5px 0; }\r\n                    .storevline-recently-viewed .recently-viewed-product .product-price { display: none; }\r\n                </style>`;\r\n                productTplList += styleTpl;\r\n                \r\n                for(let i = 0; i < recentList.length; i++) {\r\n                    let product = recentList[i];\r\n                    let productData = product._data;\r\n                    \r\n                    productTplList += `<div class=\"product recently-viewed-product product-wrapper\">\r\n                        <div class=\"product-head\">\r\n                            <div class=\"product-image\">\r\n                                <a href=\"/products/${productData.handle}\">\r\n                                    <img src=\"${productData.image.src}\" />\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"product-content\">\r\n                            <div class=\"product-vendor\">\r\n                                <a href=\"/collections/vendors?q=${productData.vendor}\">${productData.vendor}</a>\r\n                            </div>\r\n                            <h5 class=\"product-name\">\r\n                                <a href=\"/products/${productData.handle}\">\r\n                                    ${productData.title}\r\n                                </a> \r\n                            </h5>\r\n                            <div class=\"product-price\">\r\n                                <span>${productData.variants[0].price}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>`\r\n                }\r\n\r\n                view_container.append(productTplList);\r\n            },\r\n\r\n            getRecentlyViewed: function(callback) {\r\n                if(!this.checkLogin()) return;\r\n                \r\n                $.ajax({\r\n                    url: `${appUrl}/apps/get-recently-view?shop=${Shopify.shop}`,\r\n                    method: 'post',\r\n                    dataType: 'json',\r\n                    data: {\r\n                        customerId: customerLogged,\r\n                    },\r\n                    success: function(resObj) {\r\n                        callback(resObj)\r\n                    },\r\n\r\n                    error: function(err) {\r\n                        console.log(err);\r\n                        callback(null);\r\n                    },\r\n                })\r\n            },\r\n\r\n            updateRecentlyViewed: function() {\r\n                // Get current product id\r\n                let productForm = $(\"form.product-form\");\r\n                let productId = productForm.attr(\"id\").replace(\"product_form_\", \"\");\r\n                \r\n                let valid = this.checkValid(productId);\r\n\r\n                let list = recentList.map(item => {\r\n                    return {\r\n                        productId: item.productId,\r\n                        date: item.date,\r\n                    }\r\n                });\r\n\r\n\r\n                // Sort By Added date value\r\n                list.sort(function(a,b){\r\n                    return (new Date(a.date)).valueOf() - (new Date(b.date)).valueOf();\r\n                });\r\n                \r\n\r\n                if(valid) {\r\n                    \r\n                    // Reach to the limit remove the old one\r\n                    if(list.length === maxAllow) {\r\n                        list.splice(0,1);\r\n                        list.unshift(\r\n                            {\r\n                                productId,\r\n                                date: (new Date()).toISOString(),\r\n                            }    \r\n                        );\r\n                    } \r\n                    // Otherwise add new product to list\r\n                    else {\r\n                        list = list.concat(\r\n                            {\r\n                                productId,\r\n                                date: (new Date()).toISOString(),\r\n                            }\r\n                        )    \r\n                    }\r\n                    \r\n                    $.ajax({\r\n                        url: `${appUrl}/apps/update-recently-view?shop=${Shopify.shop}`,\r\n                        method: 'post',\r\n                        dataType: 'json',\r\n                        data: {\r\n                            customerId: customerLogged,\r\n                            recentList: list\r\n                        },\r\n                        success: function(resObj) {\r\n                            if (resObj.status == 'error') {\r\n                                console.log(resObj.msg);\r\n                            } \r\n                        },\r\n    \r\n                        error: function(err) {\r\n                            alert(err.message);\r\n                        },\r\n    \r\n                        complete: function() {\r\n                        }\r\n                    })\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Function to check whether user logged in or not\r\n             */\r\n            checkLogin() {\r\n                return (customerLogged != '') ? true : false;\r\n            },\r\n\r\n            checkValid(id) {\r\n                if(!recentList.length) \r\n                    return true;\r\n                \r\n                \r\n                let flag  = true;\r\n                for(let i = 0; i < recentList.length; i++) {\r\n                    if(recentList[i].productId === id) {\r\n                        flag = false;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                return flag;\r\n            },\r\n        }\r\n    };\r\n  \r\n    if(window.jQuery) {\r\n        let jqVer = jQuery.fn.jquery,\r\n            latestVer = '3.5.0'.split('.');\r\n        let addFlag = false;\r\n        jqVer.split('.').map((number, idx) => {\r\n            if(parseInt(number) < parseInt(latestVer[idx])) {\r\n                addFlag = true;\r\n            }\r\n        })\r\n        if(addFlag) {\r\n            loadScript(\"//code.jquery.com/jquery-3.5.0.min.js\", function() {\r\n                arnJQ = jQuery.noConflict(true);\r\n    \r\n                let a = Arena__WishListJS(arnJQ).init();\r\n                let b = Arena__CompareJS(arnJQ).init();\r\n                let c = Arena__RecentView(arnJQ).init();\r\n                watcher(a, b);\r\n            });\r\n            \r\n        } else {\r\n            let a = Arena__WishListJS(jQuery).init();\r\n            let b = Arena__CompareJS(jQuery).init();    \r\n            let c = Arena__RecentView(jQuery).init();\r\n            watcher(a, b);\r\n        }\r\n        \r\n    } else {\r\n        loadScript(\"//code.jquery.com/jquery-3.5.0.min.js\", function() {\r\n            arnJQ = jQuery.noConflict(true);\r\n    \r\n            let a = Arena__WishListJS(arnJQ).init();\r\n            let b = Arena__CompareJS(arnJQ).init();\r\n            let c = Arena__RecentView(arnJQ).init();\r\n            watcher(a, b);\r\n        });  \r\n        \r\n    }\r\n    \r\n  })();"],"sourceRoot":""}