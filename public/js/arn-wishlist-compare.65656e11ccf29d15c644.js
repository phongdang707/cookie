!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=453)}({453:function(e,t){!function(){var e="https://wishlist.storevline.com",t=function(e,t){var n=document.createElement("script");n.type="text/javascript",n.readyState?n.onreadystatechange=function(){"loaded"!=n.readyState&&"complete"!=n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()},n.src=e,document.getElementsByTagName("head")[0].appendChild(n)},n=function(e,t){var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,o=window.mozAnimationStartTime;n((function a(r){null==o&&(o=r),e.watcher(),t.watcher(),n(a)}))};if(window.Arena__WishListJS=function(t){var n,o=arn_wl_cp_settings.wishlist_settings,a="."+o.wishlist_add_class,r="."+o.wishlist_show_class,i="."+o.wishlist_remove_class,c=o.wishlist_enable,s=!arn_wl_cp_settings.general_settings.app_wishlist_page,d=Shopify.shop,l=JSON.parse(t("#shopify-features").text()).domain;n=(n="nautilus-puzzles.myshopify.com"!==d||"nautiluspuzzles.com"!==l?o.wishlist_product_number>20?20:o.wishlist_product_number:o.wishlist_product_number>100?100:o.wishlist_product_number)<2?2:n;var u=[],p=[],m=0;return{init:function(){return this.loadWishList(),this.handleEvent(),this},watcher:function(){u.length&&this.updateIcon()},updateIcon:function(){t(a).each((function(e,n){var o=t(n).attr("data-handle");-1!==u.indexOf(o)?t(n).addClass("arn_added"):t(n).removeClass("arn_added")}))},updateAmount:function(){t(r).find(".number").html('\n          <span class="n-item">'.concat(u.length,"</span>\n        "))},loadWishList:function(){var i=this;if(!customerLogged||!c)return!1;customerLogged&&(document.getElementsByTagName("body")[0].classList.add("arn_wl_pending"),t(a).addClass("arn_pending"),t(r).addClass("arn_pending"),t.ajax({url:"".concat(e,"/apps/get-wishlist?shop=").concat(Shopify.shop),method:"post",dataType:"json",data:{customerId:customerLogged},success:function(e){if("error"==e.status)throw new Error(o.notify_getlist_error);(u=e.customer_wishlist).length&&u.length>n&&(u=u.slice(0,n)),i.updateIcon(),i.updateAmount(),t(".wishlist-table").length&&t(".wishlist-table").removeClass("arn_pending")},error:function(e){alert(e.message)},complete:function(){document.getElementsByTagName("body")[0].classList.remove("arn_wl_pending"),t(a).removeClass("arn_pending"),t(r).removeClass("arn_pending")}}))},handleEvent:function(){var e=this;t("body").on("click.add_wl",a,(function(t){t.preventDefault(),e.addToList(t.currentTarget)})),t("body").on("click.delete_wl",i,(function(t){t.preventDefault(),e.removeFromList(t.currentTarget)})),t("body").on("click.show_wl",r,(function(t){t.preventDefault(),e.showLayout()}))},removeFromList:function(n){var o=this;t(n).addClass("arn_pending");var a=t(n).attr("data-handle"),r=t(n).attr("data-callback"),i=t(n).parents(".wishlist-item"),c=u.indexOf(a);if(-1!==c){u.splice(c,1),m+=1;var s={handle:a,domItem:i,result:null};p.push(s),t.ajax({url:"".concat(e,"/apps/update-wishlist?shop=").concat(Shopify.shop),method:"post",dataType:"json",data:{customerId:customerLogged,customer_wishlist:u},success:function(e){s.result=!0,s.domItem.remove(),o.updateAmount()},error:function(e){t(n).removeClass("arn_pending"),s.result=!1},complete:function(){if(!(m-=1)){var e=p.filter((function(e){return!1===e.result}));p=[],e.length?(e.map((function(e){u.push(e.handle)})),o.exRemoveFromList(r)):void 0===r?window.location.reload():window[r]()}}})}},exRemoveFromList:function(n){t.ajax({url:"".concat(e,"/apps/update-wishlist?shop=").concat(Shopify.shop),method:"post",dataType:"json",data:{customerId:customerLogged,customer_wishlist:u},success:function(e){_this.updateAmount()},error:function(e){},complete:function(){void 0===n?window.location.reload():window[n]()}})},addToList:function(a){var r=this,i=t(a).attr("data-handle").trim(),c=t(a).attr("data-callback");if(!this.checkLogin())return alert(o.notify_login),!1;if(-1!==u.indexOf(i))return!1;if(u.length===n)return alert("".concat(o.notify_limit.replace("{limit}",n))),!1;t(a).addClass("arn_pending"),u.push(i),m+=1;var s={handle:i,result:null};p.push(s),t.ajax({url:"".concat(e,"/apps/update-wishlist?shop=").concat(Shopify.shop),method:"post",dataType:"json",data:{customerId:customerLogged,customer_wishlist:u},success:function(e){t(a).addClass("arn_added"),r.updateAmount(),s.result=!0},error:function(e){s.result=!1},complete:function(){if(t(a).removeClass("arn_pending"),!(m-=1)){var e=p.filter((function(e){return!1===e.result}));p=[],e.length?(e.map((function(e){u=u.filter((function(t){return t!==e.handle}))})),r.exAddToWishlist(c)):void 0!==c&&window[c]("add")}}})},exAddToWishlist:function(n){t.ajax({url:"".concat(e,"/apps/update-wishlist?shop=").concat(Shopify.shop),method:"post",dataType:"json",data:{customerId:customerLogged,customer_wishlist:u},success:function(e){_this.updateAmount(),void 0!==n&&window[n]("add")},error:function(e){},complete:function(){}})},showLayout:function(){window.location.href=s?"/apps/wishlist?id=".concat(customerLogged):"/pages/arena-wishlist-page"},checkLogin:function(){return""!=customerLogged}}},window.Arena__CompareJS=function(t){var n=arn_wl_cp_settings.compare_settings,o="."+n.compare_add_class,a="."+n.compare_show_class,r="."+n.compare_remove_class,i=n.compare_options,c=n.compare_enable,s=n.compare_product_number>4?4:n.compare_product_number;s=s<2?2:s;var d=n.compare_layout[0],l=0,u=[],p=[];return{init:function(){return this.loadCompare(),this.handleEvent(),this},watcher:function(){this.updateIcon()},loadCompare:function(){var r=this;if(!customerLogged||!c)return!1;customerLogged&&(document.getElementsByTagName("body")[0].classList.add("arn_cp_pending"),t(o).addClass("arn_pending"),t(a).addClass("arn_pending"),t.ajax({url:"".concat(e,"/apps/get-compare?shop=").concat(Shopify.shop),method:"post",dataType:"json",data:{customerId:customerLogged},success:function(e){if("error"==e.status)throw new Error(n.notify_getlist_error);(u=e.customer_compare).length&&u.length>s&&(u=u.slice(0,s)),r.updateIcon(),r.updateAmount(),t(".compare-table").length&&r.loadLayout(d)},error:function(e){document.getElementsByTagName("body")[0].classList.remove("arn_cp_pending"),alert(e.message)},complete:function(){t(o).removeClass("arn_pending"),t(a).removeClass("arn_pending")}}))},updateIcon:function(){t(o).each((function(e,n){var o=t(n).attr("data-handle");-1!=u.indexOf(o)?t(n).addClass("arn_added"):t(n).removeClass("arn_added")}))},handleEvent:function(){var e=this;t("body").on("click.add_cp",o,(function(t){t.preventDefault(),e.addToList(t.currentTarget)})),t("body").on("click.delete_cp",r,(function(t){t.preventDefault(),e.removeFromList(t.currentTarget)})),t("body").on("click.show_cp",a,(function(t){t.preventDefault(),e.showLayout()}))},removeFromList:function(n){var o=this;t(n).addClass("arn_pending");var a=t(n).attr("data-handle"),r=u.indexOf(a),i=t(n).parents(".product-col").attr("class").match(/product-[0-9]+/gm);if(i){u.splice(r,1),l+=1;var c={handle:a,domItem:t(".".concat(i)),result:null};p.push(c),t.ajax({url:"".concat(e,"/apps/update-compare?shop=").concat(Shopify.shop),method:"post",dataType:"json",data:{customerId:customerLogged,customer_compare:u},success:function(e){c.result=!0,c.domItem.remove(),o.updateAmount()},error:function(e){t(n).removeClass("arn_pending"),c.result=!1},complete:function(){if(!(l-=1)){var e=p.filter((function(e){return!1===e.result}));p=[],e.length?(e.map((function(e){u.push(e.handle)})),o.exRemoveFromList()):u.length||"popup"!==d||(jQuery.fn.modal?jQuery(".arn-compare-md").modal("hide"):jQuery.fancybox&&jQuery.fancybox.close())}}})}},exRemoveFromList:function(){t.ajax({url:"".concat(e,"/apps/update-compare?shop=").concat(Shopify.shop),method:"post",dataType:"json",data:{customerId:customerLogged,customer_wishlist:u},success:function(e){_this.updateAmount(),u.length||"popup"!==d||(jQuery.fn.modal?jQuery(".arn-compare-md").modal("hide"):jQuery.fancybox&&jQuery.fancybox.close())},error:function(e){},complete:function(){}})},addToList:function(o){var a=this,r=t(o).attr("data-handle").trim();if(!this.checkLogin())return alert(n.notify_login),!1;if(-1!==u.indexOf(r))return alert("This product has already been added to compare"),!1;if(u.length===s)return alert("".concat(n.notify_limit.replace("{limit}",s))),!1;t(o).addClass("arn_pending"),u.push(r),l+=1;var i={handle:r,result:null};p.push(i),t.ajax({url:"".concat(e,"/apps/update-compare?shop=").concat(Shopify.shop),method:"post",dataType:"json",data:{customerId:customerLogged,customer_compare:u},success:function(e){t(o).addClass("arn_added"),a.updateAmount(),i.result=!0},error:function(e){i.result=!1},complete:function(){if(t(o).removeClass("arn_pending"),!(l-=1)){var e=p.filter((function(e){return!1===e.result}));p=[],e.length?(e.map((function(e){u=u.filter((function(t){return t!==e.handle}))})),a.exAddToCompare()):"undefined"!=typeof callback&&window[callback]("add")}}})},exAddToCompare:function(){t.ajax({url:"".concat(e,"/apps/update-compare?shop=").concat(Shopify.shop),method:"post",dataType:"json",data:{customerId:customerLogged,customer_compare:u},success:function(e){_this.updateAmount(),"undefined"!=typeof callback&&window[callback]("add")},error:function(e){},complete:function(){}})},updateAmount:function(){t(a).find(".number").html('\n          <span class="n-item">'.concat(u.length,"</span>\n        ")),t(".page-arn-compare").length&&(u.length?(t(".page-compare .no-compare-msg").hide(),t(".compare-table").show()):(t(".compare-table").hide(),t(".page-arn-compare .no-compare-msg").show()))},loadLayout:function(o){var r=[],c=u.length;document.getElementsByTagName("body")[0].classList.add("arn_cp_pending"),t(a).addClass("arn_pending"),u.map((function(s,d){t.ajax({url:"/products/".concat(s,"?view=compare"),method:"get",dataType:"html",success:function(s){var d=JSON.parse(s);if(r.push(d),!--c){var l={};i.map((function(e){l["show_".concat(e)]=!0}));var p=new FormData;p.append("prodlist",JSON.stringify(r)),p.append("compare_translate",JSON.stringify({t_column:"cols_".concat(u.length),t_remove_class:n.compare_remove_class,t_remove_width:n.remove_class_icon.width,t_remove_height:n.remove_class_icon.height,t_features_title:n.table_feature_heading,t_availability_title:n.table_availability_heading,t_instock:n.table_instock,t_outstock:n.table_outstock,t_view_detail:n.table_view_btn,t_option_title:n.table_option_heading,t_vendor_title:n.table_vendor_heading,t_collection_title:n.table_collection_heading,t_rating_title:n.table_review_heading})),p.append("compare_showing_options",JSON.stringify(l)),t.ajax({url:"".concat(e,"/apps/get-compare-layout?shop=").concat(Shopify.shop,"&themeId=").concat(Shopify.theme.id),method:"post",processData:!1,contentType:!1,data:p,success:function(e){"error"!=e.status?"popup"===o?jQuery.fancybox||jQuery.fn.modal?jQuery.fn.modal?jQuery('<div class="modal fade arn-compare-md" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">\n                                                                    <div class="modal-dialog modal-md">\n                                                                      <div class="modal-content">\n                                                                        '.concat(e.resp,"   \n                                                                      </div>\n                                                                    </div>\n                                                                  </div>")).modal("show"):jQuery.fancybox&&jQuery.fancybox.open(e.resp,{animationEffect:"tube",afterShow:function(){currenciesCallback()}}):alert(n.notify_modal_plugin):t(".compare-table").html(e.resp):alert(n.notify_getlist_error)},error:function(e){console.log(e)},complete:function(){document.getElementsByTagName("body")[0].classList.remove("arn_cp_pending"),t(a).removeClass("arn_pending")}})}},error:function(e){console.log(e),document.getElementsByTagName("body")[0].classList.remove("arn_cp_pending"),t(a).removeClass("arn_pending")}})}))},showLayout:function(){return this.checkLogin()?0==u.length?(alert(n.notify_empty_product),!1):void("popup"===d?this.loadLayout(d):window.location.href="/pages/arena-compare-page"):(alert(n.notify_login),!1)},checkLogin:function(){return""!=customerLogged}}},window.Arena__RecentView=function(t){var n=null;return{init:function(){var e=t(".template-product"),o=this;return this.getRecentlyViewed((function(t){t&&("error"==t.status?alert(t.msg):(n=t.recentList,o.updateAmount(),o.showRecentlyViewed(),e.length&&o.updateRecentlyViewed()))})),this},updateAmount:function(){t(".show-viewed-products").length&&t(".show-viewed-products").find(".number").html('\n                        <span class="n-item">'.concat(n.length,"</span>\n                    "))},showRecentlyViewed:function(){var e=t(".storevline-recently-viewed");if(e.length){var o="";o+="<style>\n                    .storevline-recently-viewed { margin: 30px 0; }\n                    .storevline-recently-viewed { display: flex; flex-wrap: no-wrap; }\n                    .storevline-recently-viewed .recently-viewed-product { flex-basis: 205px; padding: 0 15px; }\n                    .storevline-recently-viewed .recently-viewed-product .product-image a { display: block; height: 0; padding-bottom: 100%; position: relative; overflow: hidden; margin-bottom: 15px; }\n                    .storevline-recently-viewed .recently-viewed-product .product-image img { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); }\n                    .storevline-recently-viewed .recently-viewed-product .product-name { font-weight: bold; margin: 5px 0; }\n                    .storevline-recently-viewed .recently-viewed-product .product-price { display: none; }\n                </style>";for(var a=0;a<n.length;a++){var r=n[a]._data;o+='<div class="product recently-viewed-product product-wrapper">\n                        <div class="product-head">\n                            <div class="product-image">\n                                <a href="/products/'.concat(r.handle,'">\n                                    <img src="').concat(r.image.src,'" />\n                                </a>\n                            </div>\n                        </div>\n                        <div class="product-content">\n                            <div class="product-vendor">\n                                <a href="/collections/vendors?q=').concat(r.vendor,'">').concat(r.vendor,'</a>\n                            </div>\n                            <h5 class="product-name">\n                                <a href="/products/').concat(r.handle,'">\n                                    ').concat(r.title,'\n                                </a> \n                            </h5>\n                            <div class="product-price">\n                                <span>').concat(r.variants[0].price,"</span>\n                            </div>\n                        </div>\n                    </div>")}e.append(o)}},getRecentlyViewed:function(n){this.checkLogin()&&t.ajax({url:"".concat(e,"/apps/get-recently-view?shop=").concat(Shopify.shop),method:"post",dataType:"json",data:{customerId:customerLogged},success:function(e){n(e)},error:function(e){console.log(e),n(null)}})},updateRecentlyViewed:function(){var o=t("form.product-form").attr("id").replace("product_form_",""),a=this.checkValid(o),r=n.map((function(e){return{productId:e.productId,date:e.date}}));r.sort((function(e,t){return new Date(e.date).valueOf()-new Date(t.date).valueOf()})),a&&(16===r.length?(r.splice(0,1),r.unshift({productId:o,date:(new Date).toISOString()})):r=r.concat({productId:o,date:(new Date).toISOString()}),t.ajax({url:"".concat(e,"/apps/update-recently-view?shop=").concat(Shopify.shop),method:"post",dataType:"json",data:{customerId:customerLogged,recentList:r},success:function(e){"error"==e.status&&console.log(e.msg)},error:function(e){alert(e.message)},complete:function(){}}))},checkLogin:function(){return""!=customerLogged},checkValid:function(e){if(!n.length)return!0;for(var t=!0,o=0;o<n.length;o++)if(n[o].productId===e){t=!1;break}return t}}},window.jQuery){var o=jQuery.fn.jquery,a="3.5.0".split("."),r=!1;if(o.split(".").map((function(e,t){parseInt(e)<parseInt(a[t])&&(r=!0)})),r)t("//code.jquery.com/jquery-3.5.0.min.js",(function(){arnJQ=jQuery.noConflict(!0);var e=Arena__WishListJS(arnJQ).init(),t=Arena__CompareJS(arnJQ).init();Arena__RecentView(arnJQ).init();n(e,t)}));else{var i=Arena__WishListJS(jQuery).init(),c=Arena__CompareJS(jQuery).init();Arena__RecentView(jQuery).init();n(i,c)}}else t("//code.jquery.com/jquery-3.5.0.min.js",(function(){arnJQ=jQuery.noConflict(!0);var e=Arena__WishListJS(arnJQ).init(),t=Arena__CompareJS(arnJQ).init();Arena__RecentView(arnJQ).init();n(e,t)}))}()}});
//# sourceMappingURL=arn-wishlist-compare.65656e11ccf29d15c644.js.map