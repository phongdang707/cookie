!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=453)}({453:function(e,t){!function(){var e="https://wishlist.arenacommerce.com",t=function(e,t){var n=document.createElement("script");n.type="text/javascript",n.readyState?n.onreadystatechange=function(){"loaded"!=n.readyState&&"complete"!=n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()},n.src=e,document.getElementsByTagName("head")[0].appendChild(n)};if(window.Arena__WishListJS=function(t){var n,a=arn_wl_cp_settings.wishlist_settings,o="."+a.wishlist_add_class,r="."+a.wishlist_show_class,i="."+a.wishlist_remove_class,s=a.wishlist_enable,c=!arn_wl_cp_settings.general_settings.app_wishlist_page,l=Shopify.shop,d=JSON.parse(t("#shopify-features").text()).domain;n=(n="nautilus-puzzles.myshopify.com"!==l||"nautiluspuzzles.com"!==d?a.wishlist_product_number>20?20:a.wishlist_product_number:a.wishlist_product_number>100?100:a.wishlist_product_number)<2?2:n;var u=[],p=[],m=0;return{init:function(){this.loadWishList(),this.handleEvent()},watcher:function(){u.length&&this.updateIcon()},updateIcon:function(){t(o).each((function(e,n){var a=t(n).attr("data-handle");-1!==u.indexOf(a)?t(n).addClass("arn_added"):t(n).removeClass("arn_added")}))},updateAmount:function(){t(r).find(".number").html('\n          <span class="n-item">'.concat(u.length,"</span>\n        "))},loadWishList:function(){var i=this;if(!customerLogged||!s)return!1;customerLogged&&(document.getElementsByTagName("body")[0].classList.add("arn_wl_pending"),t(o).addClass("arn_pending"),t(r).addClass("arn_pending"),t.ajax({url:"".concat(e,"/apps/get-wishlist?shop=").concat(Shopify.shop),method:"post",dataType:"json",data:{customerId:customerLogged},success:function(e){if("error"==e.status)throw new Error(a.notify_getlist_error);(u=e.customer_wishlist).length&&u.length>n&&(u=u.slice(0,n)),i.updateIcon(),i.updateAmount(),t(".wishlist-table").length&&t(".wishlist-table").removeClass("arn_pending")},error:function(e){alert(e.message)},complete:function(){document.getElementsByTagName("body")[0].classList.remove("arn_wl_pending"),t(o).removeClass("arn_pending"),t(r).removeClass("arn_pending")}}))},handleEvent:function(){var e=this;t("body").on("click.add_wl",o,(function(t){t.preventDefault(),e.addToList(t.currentTarget)})),t("body").on("click.delete_wl",i,(function(t){t.preventDefault(),e.removeFromList(t.currentTarget)})),t("body").on("click.show_wl",r,(function(t){t.preventDefault(),e.showLayout()}))},removeFromList:function(n){var a=this;t(n).addClass("arn_pending");var o=t(n).attr("data-handle"),r=t(n).attr("data-callback"),i=t(n).parents(".wishlist-item"),s=u.indexOf(o);if(-1!==s){u.splice(s,1),m+=1;var c={handle:o,domItem:i,result:null};p.push(c),t.ajax({url:"".concat(e,"/apps/update-wishlist?shop=").concat(Shopify.shop),method:"post",dataType:"json",data:{customerId:customerLogged,customer_wishlist:u},success:function(e){c.result=!0,c.domItem.remove(),a.updateAmount()},error:function(e){t(n).removeClass("arn_pending"),c.result=!1},complete:function(){if(!(m-=1)){var e=p.filter((function(e){return!1===e.result}));p=[],e.length?(e.map((function(e){u.push(e.handle)})),a.exRemoveFromList(r)):void 0===r?window.location.reload():window[r]()}}})}},exRemoveFromList:function(n){t.ajax({url:"".concat(e,"/apps/update-wishlist?shop=").concat(Shopify.shop),method:"post",dataType:"json",data:{customerId:customerLogged,customer_wishlist:u},success:function(e){_this.updateAmount()},error:function(e){},complete:function(){void 0===n?window.location.reload():window[n]()}})},addToList:function(o){var r=this,i=t(o).attr("data-handle").trim(),s=t(o).attr("data-callback");if(!this.checkLogin())return alert(a.notify_login),!1;if(-1!==u.indexOf(i))return!1;if(u.length===n)return alert("".concat(a.notify_limit.replace("{limit}",n))),!1;t(o).addClass("arn_pending"),u.push(i),m+=1;var c={handle:i,result:null};p.push(c),t.ajax({url:"".concat(e,"/apps/update-wishlist?shop=").concat(Shopify.shop),method:"post",dataType:"json",data:{customerId:customerLogged,customer_wishlist:u},success:function(e){t(o).addClass("arn_added"),r.updateAmount(),c.result=!0},error:function(e){c.result=!1},complete:function(){if(t(o).removeClass("arn_pending"),!(m-=1)){var e=p.filter((function(e){return!1===e.result}));p=[],e.length?(e.map((function(e){u=u.filter((function(t){return t!==e.handle}))})),r.exAddToWishlist(s)):void 0!==s&&window[s]("add")}}})},exAddToWishlist:function(n){t.ajax({url:"".concat(e,"/apps/update-wishlist?shop=").concat(Shopify.shop),method:"post",dataType:"json",data:{customerId:customerLogged,customer_wishlist:u},success:function(e){_this.updateAmount(),void 0!==n&&window[n]("add")},error:function(e){},complete:function(){}})},showLayout:function(){window.location.href=c?"/apps/wishlist?id=".concat(customerLogged):"/pages/arena-wishlist-page"},checkLogin:function(){return""!=customerLogged}}},window.Arena__CompareJS=function(t){var n=arn_wl_cp_settings.compare_settings,a="."+n.compare_add_class,o="."+n.compare_show_class,r="."+n.compare_remove_class,i=n.compare_options,s=n.compare_enable,c=n.compare_product_number>4?4:n.compare_product_number;c=c<2?2:c;var l=n.compare_layout[0],d=[];return{init:function(){this.loadCompare(),this.handleEvent()},watcher:function(){d.length&&this.updateIcon()},loadCompare:function(){if(!s)return!1;var e=sessionStorage.getItem("arn_compare_list");e?(d=e.split(","),t(a).addClass("arn_pending"),d=e.split(","),t(a).removeClass("arn_pending"),d.length&&(d.length>c&&(d=d.slice(0,c)),this.updateIcon(),this.updateAmount(),t(".compare-table").length&&this.loadLayout(l))):(t(a).removeClass("arn_pending"),this.updateAmount())},updateIcon:function(){t(a).each((function(e,n){var a=t(n).attr("data-handle");-1!=d.indexOf(a)?t(n).addClass("arn_added"):t(n).removeClass("arn_added")}))},handleEvent:function(){var e=this;t("body").on("click.add_cp",a,(function(t){t.preventDefault(),e.addToList(t.currentTarget)})),t("body").on("click.delete_cp",r,(function(t){t.preventDefault(),e.removeFromList(t.currentTarget)})),t("body").on("click.show_cp",o,(function(t){t.preventDefault(),e.showLayout()}))},removeFromList:function(e){t(e).addClass("arn_pending");var n=t(e).attr("data-handle"),a=d.indexOf(n),o=t(e).parents(".product-col").attr("class").match(/product-[0-9]+/gm);o&&(d.splice(a,1),sessionStorage.setItem("arn_compare_list",d),t(".product_comparison_template tr").each((function(e,n){t(t(n).find(".".concat(o[0]))[0]).remove()})),this.updateIcon(),this.updateAmount(),d.length||"popup"!==l||(jQuery.fn.modal?jQuery(".arn-compare-md").modal("hide"):jQuery.fancybox&&jQuery.fancybox.close()))},addToList:function(e){var a=t(e).attr("data-handle").trim();return-1===d.indexOf(a)&&(d.length===c?(alert("".concat(n.notify_limit.replace("{limit}",c))),!1):(t(e).addClass("arn_pending"),d.push(a),sessionStorage.setItem("arn_compare_list",d),t(e).removeClass("arn_pending").addClass("arn_added"),void this.updateAmount()))},updateAmount:function(){t(o).find(".number").html('\n          <span class="n-item">'.concat(d.length,"</span>\n        ")),t(".page-arn-compare").length&&(d.length?(t(".page-compare .no-compare-msg").hide(),t(".compare-table").show()):(t(".compare-table").hide(),t(".page-arn-compare .no-compare-msg").show()))},loadLayout:function(a){var r=[],s=d.length;document.getElementsByTagName("body")[0].classList.add("arn_cp_pending"),t(o).addClass("arn_pending"),d.map((function(c,l){t.ajax({url:"/products/".concat(c,"?view=compare"),method:"get",dataType:"html",success:function(c){var l=JSON.parse(c);if(r.push(l),!--s){var u={};i.map((function(e){u["show_".concat(e)]=!0}));var p=new FormData;p.append("prodlist",JSON.stringify(r)),p.append("compare_translate",JSON.stringify({t_column:"cols_".concat(d.length),t_remove_class:n.compare_remove_class,t_remove_width:n.remove_class_icon.width,t_remove_height:n.remove_class_icon.height,t_features_title:n.table_feature_heading,t_availability_title:n.table_availability_heading,t_instock:n.table_instock,t_outstock:n.table_outstock,t_view_detail:n.table_view_btn,t_option_title:n.table_option_heading,t_vendor_title:n.table_vendor_heading,t_collection_title:n.table_collection_heading,t_rating_title:n.table_review_heading})),p.append("compare_showing_options",JSON.stringify(u)),t.ajax({url:"".concat(e,"/apps/get-compare-layout?shop=").concat(Shopify.shop,"&themeId=").concat(Shopify.theme.id),method:"post",processData:!1,contentType:!1,data:p,success:function(e){"error"!=e.status?"popup"===a?jQuery.fancybox||jQuery.fn.modal?jQuery.fn.modal?jQuery('<div class="modal fade arn-compare-md" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">\n                                                                    <div class="modal-dialog modal-md">\n                                                                      <div class="modal-content">\n                                                                        '.concat(e.resp,"   \n                                                                      </div>\n                                                                    </div>\n                                                                  </div>")).modal("show"):jQuery.fancybox&&jQuery.fancybox.open(e.resp,{animationEffect:"tube",afterShow:function(){currenciesCallback()}}):alert(n.notify_modal_plugin):t(".compare-table").html(e.resp):alert(n.notify_getlist_error)},error:function(e){console.log(e)},complete:function(){document.getElementsByTagName("body")[0].classList.remove("arn_cp_pending"),t(o).removeClass("arn_pending")}})}},error:function(e){console.log(e),document.getElementsByTagName("body")[0].classList.remove("arn_cp_pending"),t(o).removeClass("arn_pending")}})}))},showLayout:function(){if(0==d.length)return alert(n.notify_empty_product),!1;"popup"===l?this.loadLayout(l):window.location.href="/pages/arena-compare-page"}}},window.jQuery){var n=jQuery.fn.jquery,a="3.5.0".split("."),o=!1;n.split(".").map((function(e,t){parseInt(e)<parseInt(a[t])&&(o=!0)})),o?t("//code.jquery.com/jquery-3.5.0.min.js",(function(){arnJQ=jQuery.noConflict(!0),Arena__WishListJS(arnJQ).init(),Arena__CompareJS(arnJQ).init()})):(Arena__WishListJS(jQuery).init(),Arena__CompareJS(jQuery).init())}else t("//code.jquery.com/jquery-3.5.0.min.js",(function(){arnJQ=jQuery.noConflict(!0),Arena__WishListJS(arnJQ).init(),Arena__CompareJS(arnJQ).init()}))}()}});
//# sourceMappingURL=arn-wishlist-compare.cfadf3a03b73879406dd.js.map